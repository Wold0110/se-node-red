var _0x3b42=['reconnect','COM\x20Port\x20is\x20already\x20opened','error','Modbus\x20exception\x201','Read\x20Error','Modbus\x20exception\x202','Illegal\x20Data\x20Address','Modbus\x20exception\x204','Slave\x20Device\x20Failure','FSM\x20Not\x20Ready\x20To\x20Read','onModbusConnect','setNodeStatusTo','connected','modbusPollingRead','calc_rateByUnit','rate','rateUnit','logInfo','NODE\x20Name::','\x20:NODE\x20ID::','onModbusError','onModbusClose','onModbusInit','mberror','mbclosed','client','functionCodeModbus','dataType','quantity','readModbus','onModbusReadDone','onModbusReadError',':NODE\x20ID::','\x20::Read\x20Data\x20Successfully','data','alltags','close','parse','REAL','DINT','msg_valuesend','tag','type','address','indexOf','getMachineState','INIT','reset','logError',':\x27NODE\x20ID::','msg','registerType','SE_Modbus-Read','get','/modbus/Modbus_Tag_Help_Manual','sendFile','/pdf/Modbus_Tag_Help_Manual.pdf','exports','../src/modbus-basics','../src/readconfig','nodes','timeoutID','intervalID','isReadResponseReceived','server','clienttype','tcp','tcpHost','name','toUpperCase','connecting','configError','message','Timed\x20out','Port\x20Not\x20Open','FSM\x20Reset\x20On\x20State\x20INIT','FSM\x20Reset\x20On\x20State\x20QUEUEING','FSM\x20Reset\x20On\x20State\x20EMPTY','send','Device\x20is\x20not\x20connected','disconnected','emit'];(function(_0x8cec6e,_0x46dd7d){var _0x1bd520=function(_0xb84486){while(--_0xb84486){_0x8cec6e['push'](_0x8cec6e['shift']());}};_0x1bd520(++_0x46dd7d);}(_0x3b42,0xdd));var _0xca71=function(_0x5f3399,_0x33d8c9){_0x5f3399=_0x5f3399-0x0;var _0x5877a7=_0x3b42[_0x5f3399];return _0x5877a7;};module[_0xca71('0x0')]=function(_0x4d95b8){const _0x45a68d=require('../src/logging'),_0xd1e56a=require(_0xca71('0x1'));const _0x42511c=require(_0xca71('0x2'));function _0x5d625a(_0x21b8a9){_0x4d95b8[_0xca71('0x3')]['createNode'](this,_0x21b8a9);const _0x23d9be=this;_0x42511c['init_var'](_0x23d9be,_0x21b8a9,_0x45a68d);_0x23d9be[_0xca71('0x4')]=null;_0x23d9be[_0xca71('0x5')]=null;_0x23d9be[_0xca71('0x6')]=!![];const _0x39727b=function(){_0x23d9be[_0xca71('0x4')]=setTimeout(_0x7e745a,0xbb8);};const _0x43e9a9=function(){if(_0x23d9be[_0xca71('0x4')]){clearTimeout(_0x23d9be[_0xca71('0x4')]);}_0x23d9be['timeoutID']=null;};const _0x33e36c=function(){if(_0x23d9be['intervalID']){clearInterval(_0x23d9be[_0xca71('0x5')]);}_0x23d9be[_0xca71('0x5')]=null;};const _0xfc3b72=_0x4d95b8['nodes']['getNode'](_0x21b8a9[_0xca71('0x7')]);let _0x259f01='';if(_0xfc3b72){_0xfc3b72['registerForModbus'](_0x23d9be);if(_0xfc3b72[_0xca71('0x8')]===_0xca71('0x9')){_0x259f01=''+_0xfc3b72['name']+_0xfc3b72[_0xca71('0x8')]['toUpperCase']()+'@'+_0xfc3b72[_0xca71('0xa')];}else{_0x259f01=''+_0xfc3b72[_0xca71('0xb')]+_0xfc3b72[_0xca71('0x8')][_0xca71('0xc')]()+'@'+_0xfc3b72['unit_id'];}_0x42511c['setNodeStatusTo'](_0xca71('0xd'),_0x23d9be);}else{_0x42511c['setNodeStatusTo'](_0xca71('0xe'),_0x23d9be);return;}if(_0x21b8a9['adr']===''||_0x23d9be['quantity']===''){_0x42511c['setNodeStatusTo'](_0xca71('0xe'),_0x23d9be);return;}function _0x359148(_0x33b197){switch(_0x33b197[_0xca71('0xf')]||_0x33b197){case _0xca71('0x10'):case _0xca71('0x11'):case _0xca71('0x12'):case _0xca71('0x13'):case _0xca71('0x14'):_0x23d9be[_0xca71('0x15')](_0x550f31({'msg':_0xca71('0x16'),'status':_0xca71('0x17'),'reset':![]}));_0xfc3b72[_0xca71('0x18')](_0xca71('0x19'));break;case'COM\x20Port\x20in\x20use':_0x23d9be['send'](_0x550f31({'msg':_0xca71('0x1a'),'status':_0xca71('0x1b'),'reset':![]}));_0xfc3b72[_0xca71('0x18')]('reconnect');break;default:_0x23d9be['send'](_0x550f31({'msg':_0x33b197[_0xca71('0xf')]||_0x33b197,'status':_0xca71('0x1b'),'reset':!![]}));}}function _0x494d9a(_0x57e579){switch(_0x57e579[_0xca71('0xf')]||_0x57e579){case _0xca71('0x1c'):_0x23d9be[_0xca71('0x15')](_0x550f31({'msg':'Illegal\x20Function\x20Code','status':_0xca71('0x1d'),'reset':!![]}));break;case _0xca71('0x1e'):_0x23d9be['send'](_0x550f31({'msg':_0xca71('0x1f'),'status':_0xca71('0x1d'),'reset':!![]}));break;case'Modbus\x20exception\x203':_0x23d9be[_0xca71('0x15')](_0x550f31({'msg':'Illegal\x20Data\x20Value','status':_0xca71('0x1d'),'reset':!![]}));break;case _0xca71('0x20'):_0x23d9be[_0xca71('0x15')](_0x550f31({'msg':_0xca71('0x21'),'status':_0xca71('0x1b'),'reset':!![]}));break;case'FSM\x20Not\x20Ready\x20To\x20Read':_0x23d9be['send'](_0x550f31({'msg':_0xca71('0x22'),'status':'Read\x20Error','reset':!![]}));break;default:_0x23d9be[_0xca71('0x15')](_0x550f31({'msg':_0x57e579[_0xca71('0xf')]||_0x57e579,'status':'error','reset':!![]}));}}_0x23d9be[_0xca71('0x23')]=function(){if(!_0x23d9be['intervalID']){_0x42511c[_0xca71('0x24')](_0xca71('0x25'),_0x23d9be);_0x23d9be[_0xca71('0x5')]=setInterval(_0x23d9be[_0xca71('0x26')],_0xd1e56a[_0xca71('0x27')](_0x23d9be[_0xca71('0x28')],_0x23d9be[_0xca71('0x29')]));_0x45a68d[_0xca71('0x2a')](_0xca71('0x2b')+_0x23d9be[_0xca71('0xb')]+_0xca71('0x2c')+_0x23d9be['id']+'\x20::connected',_0x23d9be);}};_0x23d9be[_0xca71('0x2d')]=function(_0x4a6e6c){_0x33e36c();_0x359148({'message':_0x4a6e6c});};_0x23d9be[_0xca71('0x2e')]=function(){_0x33e36c();_0x42511c[_0xca71('0x24')](_0xca71('0x17'),_0x23d9be);};_0x23d9be[_0xca71('0x2f')]=function(){_0x42511c['setNodeStatusTo'](_0xca71('0xd'),_0x23d9be);};_0xfc3b72['on']('mbinit',_0x23d9be[_0xca71('0x2f')]);_0xfc3b72['on']('mbconnected',_0x23d9be[_0xca71('0x23')]);_0xfc3b72['on'](_0xca71('0x30'),_0x23d9be[_0xca71('0x2d')]);_0xfc3b72['on'](_0xca71('0x31'),_0x23d9be[_0xca71('0x2e')]);_0x23d9be[_0xca71('0x26')]=function(){if(!_0xfc3b72[_0xca71('0x32')]){_0x42511c[_0xca71('0x24')](_0xca71('0x17'),_0x23d9be);return;}if(_0x23d9be[_0xca71('0x6')]){const _0x367865={'topic':'polling','from':_0x23d9be[_0xca71('0xb')],'payload':{'fc':_0x42511c[_0xca71('0x33')](_0x23d9be[_0xca71('0x34')]),'address':_0x23d9be['adr'],'quantity':_0x23d9be[_0xca71('0x35')]}};_0xfc3b72['emit'](_0xca71('0x36'),_0x367865,_0x23d9be[_0xca71('0x37')],_0x23d9be[_0xca71('0x38')]);}else{}};_0x23d9be[_0xca71('0x37')]=function(_0x4d26de){_0x45a68d[_0xca71('0x2a')](_0xca71('0x2b')+_0x23d9be['name']+_0xca71('0x39')+_0x23d9be['id']+_0xca71('0x3a'),_0x23d9be);_0x23d9be[_0xca71('0x15')](_0x4f94f1(_0x4d26de[_0xca71('0x3b')],_0x23d9be[_0xca71('0x3c')]));_0x42511c[_0xca71('0x24')]('success',_0x23d9be);_0x39727b();_0x23d9be[_0xca71('0x6')]=!![];};_0x23d9be['onModbusReadError']=function(_0x1f3b60){_0x33e36c();_0x23d9be[_0xca71('0x6')]=!![];_0x494d9a(_0x1f3b60);};_0x23d9be['on'](_0xca71('0x3d'),function(){_0x33e36c();_0x42511c['setNodeStatusTo'](_0xca71('0x17'),_0x23d9be);});function _0x4f94f1(_0x5c5e46,_0x42264b){const _0xdee2d0=JSON[_0xca71('0x3e')](_0x42264b);const _0x4a297f=_0xdee2d0['length'];const _0x88ff74={'name':_0x23d9be[_0xca71('0xb')],'id':_0x259f01,'timestamp':new Date(),'data':{}};let _0x5a7741=0x1;const _0x5e1992=[_0xca71('0x3f'),_0xca71('0x40'),'UDINT','DWORD'];for(let _0x53ebc1=0x0;_0x53ebc1<_0x4a297f;_0x53ebc1+=_0x5a7741){let _0x8949a0;if(_0x42511c[_0xca71('0x33')](_0x23d9be['dataType'])===0x1||_0x42511c['functionCodeModbus'](_0x23d9be[_0xca71('0x34')])===0x2){_0x8949a0=_0x5c5e46[_0x53ebc1];}else{_0x8949a0=_0x42511c[_0xca71('0x41')](_0x53ebc1,_0xdee2d0,_0x5c5e46);}if(_0xdee2d0[_0x53ebc1][_0xca71('0x42')]!==''){_0x88ff74[_0xca71('0x3b')][_0xdee2d0[_0x53ebc1]['tag']]={'value':_0x8949a0,'type':_0xdee2d0[_0x53ebc1][_0xca71('0x43')]};}else{_0x88ff74[_0xca71('0x3b')][_0xdee2d0[_0x53ebc1][_0xca71('0x44')]]={'value':_0x8949a0,'type':_0xdee2d0[_0x53ebc1][_0xca71('0x43')]};}if(_0x5e1992[_0xca71('0x45')](_0xdee2d0[_0x53ebc1][_0xca71('0x43')])>-0x1){_0x5a7741=0x2;}else{_0x5a7741=0x1;}}return[{'payload':_0x88ff74}];}function _0x7e745a(){const _0x2972c5=_0xfc3b72['statlyMachine'][_0xca71('0x46')]();if(_0x2972c5===_0xca71('0x47')){_0x42511c[_0xca71('0x24')](_0xca71('0xd'),_0x23d9be);}else{_0x42511c[_0xca71('0x24')](_0xca71('0x25'),_0x23d9be);}_0x43e9a9();}function _0x550f31(_0x844368){_0x42511c[_0xca71('0x24')](_0x844368['status'],_0x23d9be);if(_0x844368[_0xca71('0x48')]){_0x39727b();}_0x45a68d[_0xca71('0x49')](_0xca71('0x2b')+_0x23d9be[_0xca71('0xb')]+_0xca71('0x4a')+_0x23d9be['id']+'::'+_0x844368[_0xca71('0x4b')],_0x23d9be);const _0x19f261={'name':_0x23d9be[_0xca71('0xb')],'id':_0x259f01,'timestamp':new Date(),'error':{'msg':_0x844368['msg']}};return[{'payload':_0x19f261}];}}_0x4d95b8[_0xca71('0x3')][_0xca71('0x4c')](_0xca71('0x4d'),_0x5d625a);_0x4d95b8['httpAdmin'][_0xca71('0x4e')](_0xca71('0x4f'),function(_0x5ec751,_0x9675dd){_0x9675dd[_0xca71('0x50')](__dirname+_0xca71('0x51'));});};