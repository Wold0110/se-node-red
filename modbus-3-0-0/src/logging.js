var _0x2d63=['configure','../nodes/log','join','.log','existsSync','File','access','constants','F_OK','W_OK','logInfo','loggingLevel','info','payload','\x20No\x20write\x20permission\x20for\x20Modbus\x20Node\x20log\x20file,\x20Please\x20provide\x20the\x20write\x20permission\x20for\x20file\x20or\x20containing\x20folder','logError','error','\x20No\x20write\x20permission\x20for\x20Modbus\x20Node\x20log\x20file\x20,\x20Please\x20provide\x20the\x20write\x20permission\x20for\x20file\x20or\x20containing\x20folder.','send','logWarning','warn','path','winston','exports'];(function(_0x253ae2,_0x891de3){var _0x8ea2d5=function(_0x58354e){while(--_0x58354e){_0x253ae2['push'](_0x253ae2['shift']());}};_0x8ea2d5(++_0x891de3);}(_0x2d63,0xed));var _0x562a=function(_0x5b72fe,_0x46ce27){_0x5b72fe=_0x5b72fe-0x0;var _0x2e9b26=_0x2d63[_0x5b72fe];return _0x2e9b26;};const fs=require('fs');const path=require(_0x562a('0x0'));const winston=require(_0x562a('0x1'));let fileName=null;let isLoggerConfigured=![];let logger=null;module[_0x562a('0x2')][_0x562a('0x3')]=function(_0x2d52a8,_0x203317,_0x2e7ce6){const _0x4f8b68=path['join'](__dirname,_0x562a('0x4'));let _0x2047ed=0x0;fileName=path[_0x562a('0x5')](_0x4f8b68+'/'+_0x2d52a8+_0x562a('0x6'));if(_0x2e7ce6==='kb'){_0x2047ed=_0x203317*0x400;}else if(_0x2e7ce6==='mb'){_0x2047ed=_0x203317*0x100000;}else{_0x2047ed=0x100000;}if(!fs[_0x562a('0x7')](_0x4f8b68)){fs['mkdirSync'](_0x4f8b68);}const _0x5d6223=()=>new Date()['toJSON']();logger=new winston['Logger']({'transports':[new winston['transports'][(_0x562a('0x8'))]({'filename':fileName,'timestamp':_0x5d6223,'maxsize':_0x2047ed,'maxFiles':0x2,'tailable':!![],'level':'debug'})]});isLoggerConfigured=!![];};const isExists=function(_0x168075,_0x128c0f){fs[_0x562a('0x9')](_0x168075,fs[_0x562a('0xa')]['F_OK'],_0x3b44ae=>{if(_0x3b44ae){_0x128c0f(![]);}else{_0x128c0f(!![]);}});};const isWritable=function(_0x4047b1,_0x404204){fs[_0x562a('0x9')](_0x4047b1,fs['constants'][_0x562a('0xb')]|fs[_0x562a('0xa')][_0x562a('0xc')],_0x37be5d=>{if(_0x37be5d){_0x404204(![]);}else{_0x404204(!![]);}});};module[_0x562a('0x2')][_0x562a('0xd')]=function(_0x3bb06d,_0xbc1485){if(_0xbc1485['logging']&&_0xbc1485[_0x562a('0xe')]==='info'){isExists(fileName,function(_0x3e86b8){if(_0x3e86b8){isWritable(fileName,function(_0x52f750){if(_0x52f750){logger[_0x562a('0xf')](_0x3bb06d);}else{const _0x1f244f={};_0x1f244f[_0x562a('0x10')]={'Error':_0x562a('0x11')};_0xbc1485['send'](_0x1f244f);}});}else{logger['info'](_0x3bb06d);}});}};module[_0x562a('0x2')][_0x562a('0x12')]=function(_0x2da86e,_0x24d753){if(_0x24d753['logging']){isExists(fileName,function(_0x1f73f7){if(_0x1f73f7){isWritable(fileName,function(_0x525873){if(_0x525873){logger[_0x562a('0x13')](_0x2da86e);}else{const _0x33fc19={};_0x33fc19[_0x562a('0x10')]={'Error':_0x562a('0x14')};_0x24d753[_0x562a('0x15')](_0x33fc19);}});}else{logger[_0x562a('0x13')](_0x2da86e);}});}};module[_0x562a('0x2')][_0x562a('0x16')]=function(_0x2b6570,_0x5034a5){isExists(fileName,function(_0x676629){if(_0x676629){isWritable(fileName,function(_0x383af2){if(_0x383af2){logger['warn'](_0x2b6570);}else{const _0x260aad={};_0x260aad['payload']={'Error':_0x562a('0x14')};_0x5034a5[_0x562a('0x15')](_0x260aad);}});}else{logger[_0x562a('0x17')](_0x2b6570);}});};